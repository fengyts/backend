<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="/common/common_header :: header('', ~{}, ~{::style})">
    <style>
        body {
            padding-right: 10px;
        }
        /* 重写 layui-css的 toolbar 样式*/
        .layui-table-tool {
            min-height: 40px !important;
            /*max-height: 45px !important;*/
            /*line-height: 30px !important;*/
            padding: 5px 10px !important;
        }
    </style>
</head>
<body>
<div>
    <div style="padding-top: 10px;">
        <button type="button" class="layui-btn" id="applyHoliday">申请请假</button>
        <button type="button" class="layui-btn" id="applyExpense">申请报销</button>
        <script type="text/html" id="applyListToolBar">
            <div style="height: 40px;display:flex;">
                <span style="height: 40px; font-size: 12px; line-height: 40px; vertical-align: middle;display: inline-block;">
                    我的申请列表(这里是个模拟操作：想象一下这里的选项就是你当前登陆的用户)
                </span>
                <div class="layui-container"
                     style="padding-left:0; max-width: 360px;margin-left: 10px;">
                    <div class="layui-row">
                        <div class="layui-input-block layui-col-xs4" style="left: 0; margin-left:0; padding-left: 0;">
                            <select name="assigne" id="assigne">
                                <option value="">--请选择角色--</option>
                                <option value="张三" selected>张三</option>
                                <option value="部门经理">部门经理</option>
                                <option value="总经理">总经理</option>
                            </select>
                        </div>
                        <button class="layui-btn layui-col-xs2" lay-event="viewApplyList" style="left: -1px">查看</button>
                    </div>
                </div>
            </div>
        </script>
    </div>
    <div>
        <table id="applyList" lay-filter="applyList"></table>
    </div>
</div>


<script th:src="@{/plugins/jquery/jquery-3.5.1.min.js}" charset="utf-8"></script>
<script th:src="@{/plugins/layui/layui.js}" charset="utf-8"></script>
<script th:inline="javascript" th:src="@{apply.js}" charset="utf-8"></script>
</body>

<!-- 申请请假表单 -->
<div id="applyFormLtl" style="display: none; padding: 10px;">
    <form class="layui-form" lay-filter="applyForm" id="applyForm" action="">
        <div class="layui-form-item">
            <label class="layui-form-label">用户名</label>
            <div class="layui-input-block">
                <input type="text" name="realName" lay-verify="required" autocomplete="off" placeholder="请输入用户名"
                       class="layui-input layui-disabled" readonly th:value="${sysUser?.realName}">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">请假类型</label>
            <div class="layui-input-block">
                <select name="city" lay-verify="required">
                    <option value="0">--请选择请假类型--</option>
                    <option value="1">事假</option>
                    <option value="2">病假</option>
                    <option value="3">婚假</option>
                    <option value="4">产假</option>
                    <option value="5">陪产假</option>
                    <option value="6">丧假</option>
                    <option value="7">工伤假</option>
                    <option value="8">调休</option>
                    <option value="9">年假</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">请假天数</label>
            <div class="layui-input-block">
                <input type="text" name="day" lay-verify="required|number" autocomplete="off" placeholder="请输入天数"
                       class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">请假原因</label>
            <div class="layui-input-block">
                <textarea name="reason" placeholder="请输入请假原因" lay-verify="required" class="layui-textarea"></textarea>
            </div>
        </div>
        <div class="layui-form-item" style="padding-left: 45%;">
            <button type="submit" class="layui-btn" lay-submit lay-filter="applyFormSubmit">提交</button>
        </div>
    </form>
</div>
<!-- 审核表单 -->
<div id="approveFormLtl" style="display: none; padding: 10px;">
    <form class="layui-form" lay-filter="approveForm" id="approveForm" action="">
        <div class="layui-form-item">
            <label class="layui-form-label">驳回原因</label>
            <div class="layui-input-block">
                <textarea name="rejectReason" id="rejectReason" placeholder="请输入驳回原因, 驳回时必填"
                          class="layui-textarea"></textarea>
            </div>
        </div>
        <div class="layui-form-item" style="text-align:center;">
            <!--            <input type="hidden" name="processInstanceId"/>-->
            <input type="hidden" name="taskId"/>
            <button type="button" class="layui-btn" id="approvePass" value="1">通过</button>
            <button type="button" class="layui-btn" id="approveReject" value="0">驳回</button>
        </div>
    </form>
</div>

</html>